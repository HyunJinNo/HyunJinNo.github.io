---
title: 클로저 (Closure)
description: 자바스크립트 클로저에 대해 정리한 페이지입니다.
date: 2025-03-09 00:00:00 +/-TTTT
categories: [Computer Science]
tags: [javascript, closure, execution-context]
math: true
toc: true
pin: false
image:
  path: /assets/img/cs/study.avif
comments: true
---

<blockquote class="prompt-info"><p><strong><u>Tags</u></strong><br>
JavaScript, Closure, Execution Context</p></blockquote>

## 개요

자바스크립트 클로저에 대해 정리한 페이지입니다.

## 클로저 (Closure)

### 클로저의 개념

<b>`클로저(Closure)`란 외부 함수에서 선언한 변수를 참조하는 내부 함수를 외부로 전달할 경우, 외부 함수의 실행 컨텍스트가 종료된 이후에도 외부 함수에서 선언한 변수가 사라지지 않는 현상</b>을 말합니다. 다시 말해, `클로저(Closure)`는 함수가 생성될 때, 해당 함수가 선언된 환경의 스코프를 기억함으로써 외부 함수의 변수나 상태를 내부 함수에서 참조할 수 있는 기능을 의미합니다. 이 때, 외부 함수가 실행을 마치고 콜 스택에서 제거된 후에도 내부 함수는 여전히 외부 함수의 변수에 접근할 수 있습니다.

### 클로저의 동작 원리

클로저가 발생하는 원인은 `가비지 컬렉터(Garbage Collector)`의 동작 방식에 있습니다. 가비지 컬렉터는 어떤 값을 참조하는 변수가 하나라도 있다면 그 값은 수집 대상에 포함시키지 않습니다. 예를 들어 다음과 같이 outer 함수의 변수 a를 참조하는 inner 함수가 있는 경우, inner 함수가 호출되어 inner 함수의 실행 컨텍스트가 활성화되면 outerEnvironmentReference가 outer 함수의 LexicalEnvironment를 필요로 하므로 수집 대상에서 제외됩니다.

```javascript
const outer = function () {
  let a = 1;
  const inner = function () {
    return ++a;
  };

  return inner;
};

const outer2 = outer();
console.log(outer2()); // 2
console.log(outer2()); // 3
```

<img src="/assets/img/cs/closure/pic1.jpg" alt="inner 함수가 호출되어 inner 함수의 실행 컨텍스트가 활성화되면 outerEnvironmentReference가 outer 함수의 LexicalEnvironment를 필요로 하므로 수집 대상에서 제외됩니다." style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 0.5rem"/>

또한 [클로저의 개념](#클로저의-개념)에서 언급한 <b>"외부로 전달"</b>이 return만을 의미하는 것은 아닙니다. 다음과 같이 <b>별도의 외부 객체인 window의 메서드(setTimeout 또는 setInterval)</b>에 전달할 콜백 함수 내부에서 myFunc 함수의 변수 a를 참조하는 경우 클로저가 발생합니다.

```javascript
function myFunc() {
  let a = 0;
  let timer = null;

  const inner = function () {
    if (++a >= 5) {
      clearInterval(timer);
    }
    console.log(a);
  };

  timer = setInterval(inner, 1000);
}

myFunc();
```

<img src="/assets/img/cs/closure/pic2.jpg" alt="외부 객체인 window의 메서드에 전달할 콜백 함수 내부에서 지역 변수를 참조하는 경우 클로저가 발생합니다." style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 0.5rem"/>

### 클로저 활용 예시

## 참고 자료

- <a href="https://www.yes24.com/Product/Goods/78586788" target="_blank">코어 자바스크립트 - 예스 24</a>
- <a href="https://namu.wiki/w/%ED%81%B4%EB%A1%9C%EC%A0%80#s-2.3" target="_blank">클로저 - 나무위키</a>
- <a href="https://ko.wikipedia.org/wiki/%ED%81%B4%EB%A1%9C%EC%A0%80_(%EC%BB%B4%ED%93%A8%ED%84%B0_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)" target="_blank">클로저 (컴퓨터 프로그래밍) - 위키백과, 우리 모두의 백과사전</a>
