---
layout: post
title: Docker의 개념과 사용 방법
description: >
  Docker의 개념과 사용 방법에 대해 설명하는 페이지입니다.
image:
  path: /assets/img/raspberry-pi/docker/docker.png
  srcset:
    1060w: /assets/img/raspberry-pi/docker/docker.png
    530w: /assets/img/raspberry-pi/docker/docker.png
    265w: /assets/img/raspberry-pi/docker/docker.png
related_posts:
  - None
sitemap: true
comments: false
---

<i>Environment</i>

- <i>OS: Raspberry Pi OS (64 bit)</i>

<h2>목차</h2>

- [개요](#개요)
- [Docker란?](#docker란)
  - [Docker의 주요 개념](#docker의-주요-개념)
  - [Docker의 장점](#docker의-장점)
  - [예시](#예시)
- [Step 1 - Docker 설치하기](#step-1---docker-설치하기)
- [Step 2 - Docker 그룹에 사용자 추가하기](#step-2---docker-그룹에-사용자-추가하기)
- [Step 3 - TODO](#step-3---todo)
- [참고 자료](#참고-자료)
- [Comments](#comments)

## 개요

이번 글에서는 Docker에 대해 설명하겠습니다.

## Docker란?

`Docker`란 컨테이너 기반의 가상화 기술로, 애플리케이션과 그 환경을 `이미지(Image)`라는 단위로 패키지를 만들어 일관적으로 실행할 수 있도록 합니다. 이를 통해 개발자는 애플리케이션과 필요한 모든 종속성을 포함하는 패키지를 만들 수 있습니다. 이 패키지는 개발 환경, 테스트 환경, 배포 환경 어디서든 일관적으로 실행되므로 배포 환경과 개발 환경 간의 차이로 인한 문제를 줄일 수 있습니다.

### Docker의 주요 개념

Docker의 주요 개념은 다음과 같습니다.

- `이미지(Image)`

  애플리케이션과 그 환경을 실행하기 위한 모든 설정, 라이브러리, 코드 등을 포함하는 일종의 템플릿입니다. 이미지는 불변(Immutable)하여 수정되지 않으며, Dockerfile이라는 설정 파일을 통해 정의됩니다. 이미지를 기반으로 컨테이너를 실행할 수 있습니다.

- `컨테이너(Container)`

  이미지를 실행한 상태로, 애플리케이션이 동작하는 독립적인 환경입니다. 여러 컨테이너를 하나의 호스트에서 독립적으로 실행할 수 있으며, 서로 간섭 없이 작동합니다. 컨테이너는 가볍고 빠르게 생성 및 삭제할 수 있으며, 시스템 자원을 더 효율적으로 사용합니다.

- `Dockerfile`

  이미지를 만들기 위한 설정 파일로, 특정 환경에서 애플리케이션을 실행하는 데 필요한 명령어를 정의합니다. 이를 통해 개발자는 일관된 환경을 자동으로 구축할 수 있습니다.

- `Docker Hub`

  Docker 이미지를 저장하고 공유할 수 있는 Registry로, 공식 이미지나 다른 개발자들이 만들어 공유한 이미지들을 다운로드하거나 사용할 수 있습니다.

### Docker의 장점

Docker의 장점은 다음과 같습니다.

- `일관성`

  개발, 테스트, 배포 환경에서 동일한 환경을 유지하여 호환성 문제를 줄일 수 있습니다.

- `빠른 배포와 확장성`

  컨테이너를 사용하면 애플리케이션을 쉽게 확장하고 빠르게 배포할 수 있으므로 DevOps와 CI/CD 파이프라인에서 유용합니다.

- `경량성`

  운영 체제 전체를 가상화하는 `VM(Virtual Machine, 가상 머신)`과 다르게, Docker는 애플리케이션과 필요한 종속성만을 포함하는 가벼운 환경을 제공함으로써 VM보다 가볍고, 자원을 더 효율적으로 사용할 수 있어 성능이 우수합니다.

- `유연성`

  Docker 이미지를 기반으로 여러 개의 컨테이너를 구동할 수 있으며, 각 컨테이너는 독립적으로 동작하므로 다양한 애플리케이션을 쉡게 분리하고 관리할 수 있습니다.

### 예시

```docker
# Node.js 베이스 이미지 사용
FROM node:14

# 애플리케이션 디렉토리 생성
WORKDIR /app

# 패키지 설치
COPY package*.json ./
RUN npm install

# 애플리케이션 파일 복사
COPY . .

# 애플리케이션 실행
CMD ["node", "app.js"]

```

## Step 1 - Docker 설치하기

먼저 다음 명령어를 입력하여 Docker를 설치합니다.

```bash
curl -fsSL https://get.docker.com | sh
```

Docker가 잘 설치되었는지 다음 명렁어를 입력해서 Docker 버전을 확인합니다.

```bash
docker -v
systemctl status docker
```

<img src="/assets/img/raspberry-pi/docker/pic1.png" alt="pic1" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 0.5rem"/>

<img src="/assets/img/raspberry-pi/docker/pic2.png" alt="pic2" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 0.5rem"/>

## Step 2 - Docker 그룹에 사용자 추가하기

Docker를 설치한 후, Docker 명령어를 실행하기 위해 사용자 계정을 Docker 그룹에 추가해야 합니다. 다음 명령어를 입력하여 Docker 그룹에 사용자를 추가합니다.

```bash
sudo usermod -aG docker $USER
```

이후 Docker 그룹 변경 사항을 적용하기 위해 시스템을 재부팅합니다.

```bash
sudo reboot now
```

재부팅 이후 다음 명령어를 입력하여 Docker 그룹에 추가되었는지 확인합니다.

```bash
groups $USER
```

<img src="/assets/img/raspberry-pi/docker/pic3.png" alt="pic3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 0.5rem"/>

## Step 3 - TODO

TODO: 작성 예정

## 참고 자료

- <a href="https://yogyui.tistory.com/entry/Raspberry-Pi-Docker-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0" target="_blank">Raspberry Pi - Docker 설치하기</a>
- <a href="https://kanziw.com/133" target="_blank">User 관련 - 계정 추가, sudo 권한 부여, root 계정 활성화 및 su - 권한 제한</a>

## Comments

<hr />
<script
  src="https://utteranc.es/client.js"
  repo="HyunJinNo/HyunJinNo.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async
></script>
